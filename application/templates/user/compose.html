{% extends "layout.html" %}
{% from "macros/_topic.html" import render_expert_topics %}

{% block page_title %}撰写{% endblock %}
{% block page_content %}
    <div class="container">
        <div class="row">
            <div class="col-md-8">
                <h3 class="no-margin-top">可能适合你回答的问题</h3>

                {% for feed in g.user.compose_feeds %}
                    {% if feed.kind == COMPOSE_FEED_KIND.WAITING_FOR_ANSWER_QUESTION_FROM_EXPERT_TOPIC %}
                        {# TODO #}
                    {% elif feed.kind == COMPOSE_FEED_KIND.INVITE_TO_ANSWER %}
                        {# TODO #}
                    {% elif feed.kind == COMPOSE_FEED_KIND.WAITING_FOR_ANSWER_QUESTION_FROM_ALL %}
                        {# TODO #}
                    {% elif feed.kind == COMPOSE_FEED_KIND.WAITING_FOR_ANSWER_QUESTION_FROM_ANSWERD_TOPIC %}
                        {# TODO #}
                    {% endif %}
                {% endfor %}
            </div>
            <div class="col-md-4">
                <h3 class="no-margin-top">擅长话题</h3>

                {% for expert_topic in g.user.expert_topics %}
                    {% set topic = expert_topic.topic %}

                    <div class="media expert-topic">
                        <div class="media-left">
                            <a href="{{ url_for('topic.view', uid=topic.id) }}">
                                <img src="{{ topic.avatar_url }}" alt=""/>
                            </a>
                        </div>
                        <div class="media-body">
                            <div>
                                <a href="{{ url_for('topic.view', uid=topic.id) }}"
                                   class="topic-name">{{ topic.name }}</a>
                            </div>
                            <div class="experience text-light">
                                {% if expert_topic.experience %}
                                    {{ expert_topic.experience }}
                                {% else %}
                                    <span class="empty">暂无话题经验</span>
                                {% endif %}
                            </div>
                        </div>

                        <div class="commands">
                            <a href="javascript: void(0)" class="btn-edit-experience" title="编辑话题经验">
                                <span class="fa fa-edit"></span>
                            </a>

                            <a href="javascript: void(0)" class="btn-remove-topic" title="去除此话题"
                               data-id="{{ expert_topic.id }}">
                                <span class="fa fa-trash-o"></span>
                            </a>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}
